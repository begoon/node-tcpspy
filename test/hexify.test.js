const hexify = require('../hexify');

test('multiline', () => {
  a = hexify.hexify(Buffer.from([...Array(17).keys()]), 0xC0DE);
  e = 
    '######## ######## 00.01.02.03.04.05.06.07.08.09.0A.0B.0C.0D.0E.0F\n' +
    '-------- -------- -----------------------------------------------\n' +
    '0000C0DE 00000000 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F |................|\n' + 
    '0000C0EE 00000010 10                                              |.|';
  expect(a).toBe(e);
});

test('oneline', () => {
  a = hexify.hexify(Buffer.from([...Array(1).keys()]), 0xBEEF);
  e = 
    '######## ######## 00.01.02.03.04.05.06.07.08.09.0A.0B.0C.0D.0E.0F\n' +
    '-------- -------- -----------------------------------------------\n' +
    '0000BEEF 00000000 00                                              |.|';
  expect(a).toBe(e);
});

test('16 characters in line', () => {
  a = hexify.hexify(Buffer.from([...Array(16).keys()]), 0xC0DE);
  e = 
    '######## ######## 00.01.02.03.04.05.06.07.08.09.0A.0B.0C.0D.0E.0F\n' +
    '-------- -------- -----------------------------------------------\n' +
    '0000C0DE 00000000 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F |................|';
  expect(a).toBe(e);
});

test('print only visible_characters', () => {
  a = hexify.hexify(Buffer.from([0, 1, 0x1f, 0x20, 0x31, 0x41, 0x7e, 0x7f]), 0xBEEF);
  e = 
    '######## ######## 00.01.02.03.04.05.06.07.08.09.0A.0B.0C.0D.0E.0F\n' +
    '-------- -------- -----------------------------------------------\n' +
    '0000BEEF 00000000 00 01 1F 20 31 41 7E 7F                         |... 1A~.|';
  expect(a).toBe(e);
});

test('empty_data', () => {
  a = hexify.hexify(Buffer.from([]), 0xBEEF)
  e = 
    '######## ######## 00.01.02.03.04.05.06.07.08.09.0A.0B.0C.0D.0E.0F\n' +
    '-------- -------- -----------------------------------------------'
  expect(a).toBe(e);
});
